{"ast":null,"code":"import React from'react';import{Routes,Route,Navigate,useNavigate}from'react-router-dom';import LogList from'./components/LogList';import LogForm from'./components/LogForm';import Login from'./components/Login';import Register from'./components/Register';import{isAuthenticated,clearAuthTokens}from'./utils/auth';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Header=()=>{const navigate=useNavigate();const handleLogout=()=>{clearAuthTokens();navigate('/login');};return/*#__PURE__*/_jsxs(\"header\",{className:\"app-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"app-title\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"FMCSA Driver Daily Log\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Digital Hours of Service compliance\"})]}),/*#__PURE__*/_jsx(\"nav\",{className:\"app-nav\",children:isAuthenticated()?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"ghost-btn\",onClick:()=>navigate('/logs'),children:\"Logs\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"ghost-btn\",onClick:()=>navigate('/logs/new'),children:\"New Log\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"ghost-btn logout\",onClick:handleLogout,children:\"Logout\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"ghost-btn\",onClick:()=>navigate('/login'),children:\"Login\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"ghost-btn\",onClick:()=>navigate('/register'),children:\"Register\"})]})})]});};const RequireAuth=_ref=>{let{children}=_ref;return isAuthenticated()?children:/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});};const App=()=>/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"main\",{className:\"app-main\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/logs\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"/logs\",element:/*#__PURE__*/_jsx(RequireAuth,{children:/*#__PURE__*/_jsx(LogList,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/logs/new\",element:/*#__PURE__*/_jsx(RequireAuth,{children:/*#__PURE__*/_jsx(LogForm,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/logs/:id\",element:/*#__PURE__*/_jsx(RequireAuth,{children:/*#__PURE__*/_jsx(LogForm,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true})})]})})]});export default App;","map":{"version":3,"names":["React","Routes","Route","Navigate","useNavigate","LogList","LogForm","Login","Register","isAuthenticated","clearAuthTokens","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Header","navigate","handleLogout","className","children","type","onClick","RequireAuth","_ref","to","replace","App","path","element"],"sources":["C:/Users/HomePC/Desktop/router_tracker/frontend/src/App.js"],"sourcesContent":["import React from 'react';\r\nimport { Routes, Route, Navigate, useNavigate } from 'react-router-dom';\r\nimport LogList from './components/LogList';\r\nimport LogForm from './components/LogForm';\r\nimport Login from './components/Login';\r\nimport Register from './components/Register';\r\nimport { isAuthenticated, clearAuthTokens } from './utils/auth';\r\n\r\nconst Header = () => {\r\n  const navigate = useNavigate();\r\n\r\n  const handleLogout = () => {\r\n    clearAuthTokens();\r\n    navigate('/login');\r\n  };\r\n\r\n  return (\r\n    <header className=\"app-header\">\r\n      <div className=\"app-title\">\r\n        <h1>FMCSA Driver Daily Log</h1>\r\n        <p>Digital Hours of Service compliance</p>\r\n      </div>\r\n      <nav className=\"app-nav\">\r\n        {isAuthenticated() ? (\r\n          <>\r\n            <button type=\"button\" className=\"ghost-btn\" onClick={() => navigate('/logs')}>\r\n              Logs\r\n            </button>\r\n            <button type=\"button\" className=\"ghost-btn\" onClick={() => navigate('/logs/new')}>\r\n              New Log\r\n            </button>\r\n            <button type=\"button\" className=\"ghost-btn logout\" onClick={handleLogout}>\r\n              Logout\r\n            </button>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <button type=\"button\" className=\"ghost-btn\" onClick={() => navigate('/login')}>\r\n              Login\r\n            </button>\r\n            <button type=\"button\" className=\"ghost-btn\" onClick={() => navigate('/register')}>\r\n              Register\r\n            </button>\r\n          </>\r\n        )}\r\n      </nav>\r\n    </header>\r\n  );\r\n};\r\n\r\nconst RequireAuth = ({ children }) => {\r\n  return isAuthenticated() ? children : <Navigate to=\"/login\" replace />;\r\n};\r\n\r\nconst App = () => (\r\n  <>\r\n    <Header />\r\n    <main className=\"app-main\">\r\n      <Routes>\r\n        <Route path=\"/\" element={<Navigate to=\"/logs\" replace />} />\r\n        <Route\r\n          path=\"/logs\"\r\n          element={\r\n            <RequireAuth>\r\n              <LogList />\r\n            </RequireAuth>\r\n          }\r\n        />\r\n        <Route\r\n          path=\"/logs/new\"\r\n          element={\r\n            <RequireAuth>\r\n              <LogForm />\r\n            </RequireAuth>\r\n          }\r\n        />\r\n        <Route\r\n          path=\"/logs/:id\"\r\n          element={\r\n            <RequireAuth>\r\n              <LogForm />\r\n            </RequireAuth>\r\n          }\r\n        />\r\n        <Route path=\"/login\" element={<Login />} />\r\n        <Route path=\"/register\" element={<Register />} />\r\n        <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\r\n      </Routes>\r\n    </main>\r\n  </>\r\n);\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}